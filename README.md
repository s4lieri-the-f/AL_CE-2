# A.L.I.C.E.

### _Artificial Licitless Intelligent Compelled Existence_

A.L.I.C.E. -- бот для ВК, основанный на REST API (HTTP-запросах), и имеющий возможность добавления к нему новых функций и команд без перезапуска системы.

**НЕ ЗАБУДЬТЕ ЗАПОЛНИТЬ `assets/config.ini`!**

## Как он работает

```python
class Client:
    def send_message(self, message: str, peer_id: int, path_to_image=None) -> None:
    """
    peer_id является переменной, ответственной за указание беседы, в которую отправится
    сообщение. Её лучше получать вручную. Впрочем, вскоре будет реализован метод,
    автоматизирующий и этот процесс.
    """
    ...
    return

    def wall_post(self, id: int, text: str, path_to_img: str) -> str:
    ...
    return post_link
```

При инициализации бот обрабатывает директорию `handlers`, выгружая и импортируя каждый хэндлер, содержащий в себе функцию `handle()`, и переменную `COMMAND`, являющуюся ключевым словом, при обнаружении которого после символа `prefix` (определено в файле `assets/config.ini`) вызывается сама функция `handle()`. Функция получает на вход экземпляр класса `Client`, используя который она должна сама отправить ответ пользователю (это необязательно). (_пример вскоре будет добавлен: репозиторий создавался поспешно из-за решения добавить его в CV_)

В `main.py` создаётся цикл, постоянно вызывающий `refresh()`, и возвращающий список сообщений `dict`, которые он впоследствии проверяет на наличие комбинации `prefix` и `команды`. В случае нахождения любой из команд, он запускает хэндлер, ответственный за её обработку.

Добавление хэндлеров происходит безболезненно: достаточно просто добавить любой `.py`-файл в директорию `handlers`. Раз в `n` минут (это значение можно будет изменить в файле `assets/config.ini`) будет запускаться метод, проверяющий наличие новых хэндлеров и проверяющий их на наличие конфликтов (_ещё не реализовано_).

## Используемые библиотеки:

- `requests`
- `configparser`
- `importlib`
- `asyncio` (_будет добавлено позднее при реализации цикла_ `main`)

## Будет добавлено к полноценномму релизу:

- Методы шифрования и расшифровки данных.
- Шифрование данных авторизации: **логина**, **пароля**, **токенов**.
- Панель управления: веб-приложение на `flask`.
- `setup.py`, устанавливающий все зависимости в автоматическом режиме.
- Демонизация Linux-машин.
